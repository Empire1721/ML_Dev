# Базы данных: виды и особенности

## Введение в базы данных

- Определение базы данных
    - База данных - организованная структура данных, предназначенная для эффективного хранения, управления и доступа к информации.
- Цель использования баз данных
  - Централизованное хранение данных
  - Обеспечение безопасности данных
  - Упрощение доступа к данным
  - Обеспечение целостности данных

## Традиционные виды баз данных

### Реляционные базы данных

- Определение реляционных баз данных
  - Реляционные базы данных организуют данные в виде таблиц с рядами и столбцами, где каждый ряд представляет сущность, а столбцы - атрибуты.
- Особенности реляционных баз данных
  - Структурированность и организация данных в таблицы
  - Использование SQL (Structured Query Language) для запросов данных
  - Гибкость в манипуляции данными
  - Поддержка целостности и связей между таблицами

### Иерархические базы данных

- Определение иерархических баз данных
  - Иерархические базы данных представляют данные в виде иерархической структуры, где каждый элемент связан с одним или несколькими элементами "выше" и "ниже" в иерархии.
- Особенности иерархических баз данных
  - Использование специальных языков запросов
  - Хорошая поддержка связей "родитель-потомок"
  - Ограничения в манипуляциях данными
  - Трудности при изменении структуры данных

### Сетевые базы данных

- Определение сетевых баз данных
  - Сетевые базы данных представляют данные в виде сети объектов, где каждый объект может иметь несколько связей с другими объектами.
- Особенности сетевых баз данных
  - Гибкая структура данных, которая позволяет установить множество связей между объектами
  - Относительная сложность в создании и поддержке структуры данных
  - Использование специальных языков запросов и обработки данных

## Современные виды баз данных

### Объектно-ориентированные базы данных

- Определение объектно-ориентированных баз данных
  - Объектно-ориентированные базы данных организуют и хранят данные в виде объектов, включающих данные и методы для их обработки.
- Особенности объектно-ориентированных баз данных
  - Интеграция с объектно-ориентированными языками программирования
  - Поддержка наследования и полиморфизма
  - Более сложная структура данных
  - Повышенная гибкость в обработке данных

### Нереляционные (NoSQL) базы данных

- Определение нереляционных баз данных
  - Нереляционные базы данных, также известные как NoSQL базы данных, позволяют хранить и обрабатывать неструктурированные данные.
- Особенности нереляционных баз данных
  - Гибкая структура для хранения разнородных данных
  - Поддержка горизонтального масштабирования
  - Быстрая скорость обработки данных
  - Ограниченные возможности для сложных запросов

## Заключение

- Виды баз данных предлагают разные способы организации и обработки данных.
- Выбор конкретного типа базы данных должен быть основан на требованиях проекта и характеристиках данных.
- Базы данных являются фундаментальным инструментом для хранения и управления информацией, и понимание их особенностей важно для эффективного работы с данными.


# Реляционные базы данных и язык SQL

## Реляционные базы данных

- Определение реляционных баз данных
  - Реляционные базы данных организуют данные в виде таблиц с рядами и столбцами, где каждый ряд представляет сущность, а столбцы - атрибуты.
- Пример создания таблицы "Users"
```sql
CREATE TABLE Users (
  id INT PRIMARY KEY,
  name VARCHAR(50),
  age INT
);
```

## Операции вставки, удаления и изменения данных

### Операция вставки

- Вставка новой записи в таблицу "Users"
```sql
INSERT INTO Users (id, name, age)
VALUES (1, 'John', 25);
```

### Операция удаления

- Удаление записи из таблицы "Users" по условию
```sql
DELETE FROM Users
WHERE id = 1;
```

### Операция изменения

- Изменение значения атрибута в записях таблицы "Users" по условию
```sql
UPDATE Users
SET age = 30
WHERE id = 1;
```

## Индексы

- Определение индексов
  - Индексы - структуры данных, ускоряющие поиск и сортировку данных в таблице.
- Создание индекса на атрибуте "id" таблицы "Users"
```sql
CREATE INDEX idx_users_id ON Users (id);
```

## Создание SQL запросов

### SELECT

- Запрос всех записей из таблицы "Users"
```sql
SELECT * FROM Users;
```

- Запрос определенных столбцов из таблицы "Users"
```sql
SELECT id, name FROM Users;
```

### WHERE

- Запрос записей из таблицы "Users", удовлетворяющих определенному условию
```sql
SELECT * FROM Users WHERE age > 30;
```


## Объединения 

### JOIN

- Запрос связанных данных из двух таблиц "Users" и "Orders"
```sql
SELECT u.id, u.name, o.order_date
FROM Users u
JOIN Orders o ON u.id = o.user_id;
```

### GROUP BY и HAVING

- Запрос агрегированных данных с группировкой и фильтрацией
```sql
SELECT user_id, COUNT(*) AS order_count
FROM Orders
GROUP BY user_id
HAVING COUNT(*) > 2;
```


## Заключение

- Реляционные базы данных организуют данные в виде таблиц, а язык SQL позволяет выполнять разнообразные операции с данными.
- Операции включают вставку, удаление и изменение данных в таблицах.
- Индексы повышают производительность запросов и сортировки данных.
- SQL предоставляет разнообразные возможности для создания запросов, включая операции SELECT, WHERE, JOIN, GROUP BY и HAVING.


# Работа с библиотекой SQLAlchemy

## Введение

- SQLAlchemy - популярная библиотека Python, которая предоставляет удобный и мощный инструментарий для работы с базами данных.

## Создание классов для работы с таблицами

- Классы-модели помогают абстрагироваться от непосредственной работы с SQL и упрощают взаимодействие с базой данных.

```python
from sqlalchemy import Column, Integer, String
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = 'users'
    id = Column(Integer, primary_key=True)
    name = Column(String(50))
    age = Column(Integer)
```

## Операции вставки, удаления и изменения данных

### Операция вставки

```python
from sqlalchemy.orm import sessionmaker

user = User(name='John', age=25)

Session = sessionmaker(bind=engine)
session = Session()
session.add(user)
session.commit()
```

### Операция удаления

```python
user = session.query(User).get(1)

session.delete(user)
session.commit()
```

### Операция изменения

```python
user = session.query(User).get(1)

user.age = 30
session.commit()
```

## Построение сложных запросов с использованием SQLAlchemy

```python
from sqlalchemy import func

query = session.query(User).filter(User.age > 30).order_by(User.name.asc())

query = session.query(User.age, func.count()).group_by(User.age).having(func.count() > 2)
```

## Заключение

- SQLAlchemy предоставляет удобный интерфейс для работы с базами данных в Python.
- Классы-модели упрощают описание таблиц и взаимодействие с ними.
- Операции вставки, удаления и изменения данных выполняются через сессии.
- Библиотека также позволяет строить сложные SQL-запросы с использованием функций и методов SQLAlchemy.



